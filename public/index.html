<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Auction Radar</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital@0;1&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --bg: #f7f5f2; --white: #ffffff; --ink: #1a1a18;
  --ink2: #6b6b65; --ink3: #b0afa9; --line: #e4e2dd;
  --push: #c84b2f; --soon: #e8a020; --ok: #2e7d5e; --r: 2px;
}
body { background: var(--bg); color: var(--ink); font-family: 'Inter', sans-serif; min-height: 100vh; font-size: 13px; line-height: 1.5; }
.page { max-width: 1100px; margin: 0 auto; padding: 48px 40px; }

.header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 48px; }
.wordmark { font-family: 'Playfair Display', serif; font-size: 26px; color: var(--ink); }
.wordmark em { font-style: italic; color: var(--ink2); }
.header-meta { font-size: 11px; color: var(--ink3); text-align: right; }
.header-meta strong { display: block; color: var(--ink2); font-weight: 400; margin-bottom: 2px; }

.stats { display: grid; grid-template-columns: repeat(4,1fr); border: 1px solid var(--line); border-radius: var(--r); background: var(--white); margin-bottom: 40px; overflow: hidden; }
.stat { padding: 20px 24px; border-right: 1px solid var(--line); }
.stat:last-child { border-right: none; }
.stat-n { font-family: 'Playfair Display', serif; font-size: 34px; line-height: 1; color: var(--ink); }
.stat-n.red { color: var(--push); } .stat-n.green { color: var(--ok); }
.stat-label { font-size: 10px; color: var(--ink3); margin-top: 4px; text-transform: uppercase; letter-spacing: 0.08em; }

.toolbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 28px; }
.filters { display: flex; gap: 4px; align-items: center; }
.f-label { font-size: 10px; color: var(--ink3); margin-right: 6px; text-transform: uppercase; letter-spacing: 0.08em; }
.f-btn { background: var(--white); border: 1px solid var(--line); color: var(--ink2); padding: 5px 14px; font-family: 'Inter', sans-serif; font-size: 10px; cursor: pointer; border-radius: var(--r); transition: all 0.1s; text-transform: uppercase; letter-spacing: 0.05em; }
.f-btn.active, .f-btn:hover { background: var(--ink); border-color: var(--ink); color: #fff; }
.toolbar-right { display: flex; gap: 8px; }
.toolbar-right button { background: none; border: 1px solid var(--line); color: var(--ink2); padding: 5px 12px; font-family: 'Inter', sans-serif; font-size: 10px; cursor: pointer; border-radius: var(--r); text-transform: uppercase; letter-spacing: 0.05em; transition: all 0.1s; }
.toolbar-right button:hover { border-color: var(--ink2); color: var(--ink); }
.sync-btn { background: var(--ink) !important; border-color: var(--ink) !important; color: #fff !important; }
.sync-btn:hover { opacity: 0.8; }
.sync-btn:disabled { opacity: 0.5; cursor: not-allowed !important; }

.days { display: grid; grid-template-columns: repeat(7,1fr); gap: 6px; margin-bottom: 52px; }
.day { background: var(--white); border: 1px solid var(--line); border-radius: var(--r); min-height: 148px; display: flex; flex-direction: column; overflow: hidden; }
.day.is-today { border-color: var(--ink); }
.day-head { padding: 10px 12px 8px; border-bottom: 1px solid var(--line); }
.day.is-today .day-head { background: var(--ink); }
.day-weekday { font-size: 9px; text-transform: uppercase; letter-spacing: 0.1em; color: var(--ink3); }
.day.is-today .day-weekday { color: rgba(255,255,255,0.45); }
.day-num { font-family: 'Playfair Display', serif; font-size: 22px; line-height: 1.1; margin-top: 1px; }
.day.is-today .day-num { color: #fff; }
.day-body { flex: 1; padding: 7px; display: flex; flex-direction: column; gap: 4px; }
.event { padding: 6px 8px; background: var(--bg); border: 1px solid var(--line); border-radius: var(--r); cursor: pointer; transition: border-color 0.1s; }
.event:hover { border-color: var(--ink2); }
.event.push { border-left: 2px solid var(--push); }
.event.auto { border-style: solid; }
.event-house { font-size: 10px; font-weight: 500; color: var(--ink); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.event-title { font-size: 9px; color: var(--ink3); margin-top: 1px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.push-dot { display: inline-block; width: 5px; height: 5px; border-radius: 50%; background: var(--push); margin-right: 4px; vertical-align: middle; margin-top: -1px; }
.auto-dot { display: inline-block; width: 5px; height: 5px; border-radius: 50%; background: var(--ok); margin-right: 4px; vertical-align: middle; margin-top: -1px; }
.add-btn { margin-top: auto; background: none; border: 1px dashed var(--line); color: var(--ink3); width: 100%; padding: 4px; font-family: 'Inter', sans-serif; font-size: 9px; cursor: pointer; border-radius: var(--r); transition: all 0.1s; }
.add-btn:hover { border-color: var(--ink3); color: var(--ink2); }

.section-head { font-size: 10px; text-transform: uppercase; letter-spacing: 0.1em; color: var(--ink3); margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; }
.section-head button { background: none; border: 1px solid var(--line); color: var(--ink2); padding: 3px 10px; font-family: 'Inter', sans-serif; font-size: 10px; cursor: pointer; border-radius: var(--r); text-transform: uppercase; transition: all 0.1s; }
.section-head button:hover { border-color: var(--ink2); color: var(--ink); }

.table { background: var(--white); border: 1px solid var(--line); border-radius: var(--r); overflow: hidden; margin-bottom: 48px; }
.table-head { display: grid; grid-template-columns: 1fr 2fr 130px 80px; padding: 8px 20px; background: var(--bg); border-bottom: 1px solid var(--line); gap: 16px; }
.th { font-size: 9px; text-transform: uppercase; letter-spacing: 0.1em; color: var(--ink3); }
.house-row { display: grid; grid-template-columns: 1fr 2fr 130px 80px; align-items: center; padding: 13px 20px; border-bottom: 1px solid var(--line); cursor: pointer; transition: background 0.1s; gap: 16px; }
.house-row:last-child { border-bottom: none; }
.house-row:hover { background: var(--bg); }
.house-name-cell { display: flex; align-items: center; gap: 8px; }
.dot { width: 6px; height: 6px; border-radius: 50%; background: var(--line); flex-shrink: 0; }
.dot.active { background: var(--ok); } .dot.soon { background: var(--soon); }
.h-name { font-size: 12px; font-weight: 500; }
.h-url { font-size: 10px; color: var(--ink3); }
.h-next { font-size: 11px; color: var(--ink2); }
.h-next .none { color: var(--ink3); font-size: 10px; }
.push-btn { background: none; border: 1px solid var(--line); color: var(--ink3); padding: 4px 0; width: 66px; font-family: 'Inter', sans-serif; font-size: 9px; cursor: pointer; border-radius: var(--r); transition: all 0.12s; text-transform: uppercase; text-align: center; }
.push-btn.on { background: var(--push); border-color: var(--push); color: #fff; }
.push-btn:not(.on):hover { border-color: var(--ink2); color: var(--ink2); }

/* Toast */
.toast { position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%) translateY(20px); background: var(--ink); color: #fff; padding: 10px 20px; border-radius: 4px; font-size: 12px; opacity: 0; transition: all 0.2s; pointer-events: none; z-index: 999; white-space: nowrap; }
.toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
.toast.error { background: var(--push); }

.footer { display: flex; justify-content: space-between; padding-top: 20px; border-top: 1px solid var(--line); font-size: 10px; color: var(--ink3); }
.live { display: flex; align-items: center; gap: 6px; }
.live-dot { width: 5px; height: 5px; border-radius: 50%; background: var(--ok); animation: blink 2s infinite; }
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.3} }

/* Legend */
.legend { display: flex; gap: 16px; align-items: center; font-size: 10px; color: var(--ink3); }
.legend-item { display: flex; align-items: center; gap: 5px; }
.l-dot { width: 6px; height: 6px; border-radius: 50%; }

.overlay { position: fixed; inset: 0; background: rgba(247,245,242,0.88); backdrop-filter: blur(3px); z-index: 50; display: flex; align-items: center; justify-content: center; opacity: 0; pointer-events: none; transition: opacity 0.15s; }
.overlay.open { opacity: 1; pointer-events: all; }
.modal { background: var(--white); border: 1px solid var(--line); border-radius: var(--r); padding: 32px; width: 400px; max-width: 90vw; box-shadow: 0 8px 32px rgba(0,0,0,0.07); transform: translateY(8px); transition: transform 0.15s; }
.overlay.open .modal { transform: translateY(0); }
.modal-title { font-family: 'Playfair Display', serif; font-size: 20px; margin-bottom: 22px; }
.field { margin-bottom: 14px; }
.field label { display: block; font-size: 9px; text-transform: uppercase; letter-spacing: 0.1em; color: var(--ink3); margin-bottom: 5px; }
.field input, .field select { width: 100%; background: var(--bg); border: 1px solid var(--line); color: var(--ink); padding: 9px 12px; border-radius: var(--r); font-family: 'Inter', sans-serif; font-size: 12px; outline: none; transition: border-color 0.1s; appearance: none; }
.field input:focus, .field select:focus { border-color: var(--ink2); }
.field input::placeholder { color: var(--ink3); }
.modal-actions { display: flex; gap: 8px; margin-top: 22px; }
.btn-ink { background: var(--ink); color: #fff; border: none; padding: 9px 20px; border-radius: var(--r); font-family: 'Inter', sans-serif; font-size: 11px; cursor: pointer; text-transform: uppercase; letter-spacing: 0.05em; transition: opacity 0.1s; }
.btn-ink:hover { opacity: 0.78; }
.btn-ghost { background: none; color: var(--ink2); border: 1px solid var(--line); padding: 9px 20px; border-radius: var(--r); font-family: 'Inter', sans-serif; font-size: 11px; cursor: pointer; text-transform: uppercase; transition: border-color 0.1s; }
.btn-ghost:hover { border-color: var(--ink2); }

@keyframes up { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }
.page>*{animation:up 0.28s ease both}
.page>*:nth-child(1){animation-delay:0s} .page>*:nth-child(2){animation-delay:0.05s}
.page>*:nth-child(3){animation-delay:0.09s} .page>*:nth-child(4){animation-delay:0.13s}
.page>*:nth-child(5){animation-delay:0.17s} .page>*:nth-child(6){animation-delay:0.21s}

@media(max-width:900px){
  .days{grid-template-columns:repeat(4,1fr)}
  .stats{grid-template-columns:repeat(2,1fr)}
  .stat{border-right:none;border-bottom:1px solid var(--line)}
  .table-head,.house-row{grid-template-columns:1fr 110px 70px}
  .h-url{display:none} .table-head .th:nth-child(2){display:none}
}
@media(max-width:600px){
  .page{padding:24px 16px}
  .days{grid-template-columns:repeat(3,1fr)}
  .header{flex-direction:column;gap:10px}
  .header-meta{text-align:left}
}
</style>
</head>
<body>
<div class="page">
  <header class="header">
    <div class="wordmark">Auction <em>Radar</em></div>
    <div class="header-meta">
      <strong id="full-date"></strong>
      <span id="last-update">—</span>
    </div>
  </header>

  <div class="stats">
    <div class="stat"><div class="stat-n red" id="s-today">0</div><div class="stat-label">Aujourd'hui</div></div>
    <div class="stat"><div class="stat-n" id="s-week">0</div><div class="stat-label">Cette semaine</div></div>
    <div class="stat"><div class="stat-n green" id="s-push">0</div><div class="stat-label">Push actives</div></div>
    <div class="stat"><div class="stat-n" id="s-houses">0</div><div class="stat-label">Maisons suivies</div></div>
  </div>

  <div class="toolbar">
    <div class="filters">
      <span class="f-label">Vue</span>
      <button class="f-btn active" onclick="setFilter('all',this)">Toutes</button>
      <button class="f-btn" onclick="setFilter('push',this)">Push</button>
      <button class="f-btn" onclick="setFilter('today',this)">Aujourd'hui</button>
    </div>
    <div class="toolbar-right">
      <div class="legend">
        <div class="legend-item"><div class="l-dot" style="background:var(--ok)"></div>Scrappé auto</div>
        <div class="legend-item"><div class="l-dot" style="background:var(--push)"></div>Push</div>
      </div>
      <button class="sync-btn" onclick="syncNow()" id="sync-btn">↺ Sync maintenant</button>
      <button onclick="renderAll()">Refresh</button>
    </div>
  </div>

  <div class="days" id="days-grid"></div>

  <div class="section-head">
    <span>Maisons de vente</span>
    <button onclick="openHouseModal()">+ Ajouter</button>
  </div>
  <div class="table">
    <div class="table-head">
      <div class="th">Maison</div>
      <div class="th">URL scrappée</div>
      <div class="th">Prochaine vente</div>
      <div class="th">Push</div>
    </div>
    <div id="houses-list"></div>
  </div>

  <footer class="footer">
    <div class="live"><div class="live-dot"></div><span>Sync automatique chaque matin à 7h</span></div>
    <span>Auction Radar — 2026</span>
  </footer>
</div>

<div class="toast" id="toast"></div>

<!-- Sale modal -->
<div class="overlay" id="sale-modal">
  <div class="modal">
    <div class="modal-title">Ajouter une vente</div>
    <div class="field"><label>Maison</label><select id="m-house"></select></div>
    <div class="field"><label>Date</label><input type="date" id="m-date"></div>
    <div class="field"><label>Titre (optionnel)</label><input type="text" id="m-title" placeholder="ex: Estate Collection"></div>
    <div class="field"><label>URL LiveAuctioneers</label><input type="text" id="m-url" placeholder="https://liveauctioneers.com/…"></div>
    <div class="modal-actions">
      <button class="btn-ink" onclick="saveSale()">Ajouter</button>
      <button class="btn-ghost" onclick="close_('sale-modal')">Annuler</button>
    </div>
  </div>
</div>

<!-- House modal -->
<div class="overlay" id="house-modal">
  <div class="modal">
    <div class="modal-title">Nouvelle maison</div>
    <div class="field"><label>Nom</label><input type="text" id="h-name" placeholder="ex: CORAL GABLES AUCTIONS"></div>
    <div class="field"><label>URL page calendrier</label><input type="text" id="h-url" placeholder="https://www.liveauctioneers.com/auctioneer/…"></div>
    <div class="modal-actions">
      <button class="btn-ink" onclick="saveHouse()">Ajouter</button>
      <button class="btn-ghost" onclick="close_('house-modal')">Annuler</button>
    </div>
  </div>
</div>

<script>
const S = {
  filter: 'all',
  houses: [
    {id:1,  name:"NYE & CO",           url:"https://www.nyeandcompany.com/auctions/upcoming-auctions/",              push:false},
    {id:2,  name:"VOGT AUCTIONS",      url:"https://vogtauction.com/auctions",                                       push:false},
    {id:3,  name:"ARARITY",            url:"https://www.ararityauctions.com/auctions/",                              push:true },
    {id:4,  name:"EVERARD",            url:"https://www.liveauctioneers.com/auctioneer/everard/",                     push:false},
    {id:5,  name:"FREEMAN YODER",      url:"https://www.liveauctioneers.com/auctioneer/freeman-yoder/",               push:false},
    {id:6,  name:"PALM BEACH MODERN",  url:"https://www.modernauctions.com/",                                         push:true },
    {id:7,  name:"JULIENS",            url:"https://www.julienslive.com/auctions",                                    push:true },
    {id:8,  name:"CORAL GABLES",       url:"https://www.liveauctioneers.com/auctioneer/coral-gables-auctions/",      push:false},
    {id:9,  name:"CUTLER BAY",         url:"https://www.liveauctioneers.com/auctioneer/6715/cutler-bay-auctions/",   push:false},
    {id:10, name:"INTERVENDUE",        url:"https://www.liveauctioneers.com/auctioneer/6970/intervendue/",            push:false},
    {id:11, name:"BIDDLE AUCTION",     url:"https://www.liveauctioneers.com/auctioneer/6521/c-biddle-auction-gallery-inc/", push:false},
    {id:12, name:"HOWARD & THOMAS",    url:"https://www.liveauctioneers.com/auctioneer/howard-thomas/",               push:false},
  ],
  sales: [],
  lastSync: null
};

const today = () => new Date().toISOString().split('T')[0];
const offset = (n) => { const d=new Date(); d.setDate(d.getDate()+n); return d; };
const fmt = (s) => new Date(s+'T12:00:00').toLocaleDateString('fr-FR',{day:'numeric',month:'short'});
const getH = (id) => S.houses.find(h=>h.id===id);

// ── Persistence ───────────────────────────────────────────────────────────────
function save(){
  localStorage.setItem('ar_sales', JSON.stringify(S.sales));
  localStorage.setItem('ar_houses', JSON.stringify(S.houses));
  localStorage.setItem('ar_lastSync', S.lastSync || '');
}

function load(){
  const ss = localStorage.getItem('ar_sales');
  const sh = localStorage.getItem('ar_houses');
  const sl = localStorage.getItem('ar_lastSync');
  if(ss) S.sales = JSON.parse(ss);
  if(sh) S.houses = JSON.parse(sh);
  if(sl) S.lastSync = sl;
}

// ── Sync with scraper ─────────────────────────────────────────────────────────
async function syncNow(){
  const btn = document.getElementById('sync-btn');
  btn.disabled = true;
  btn.textContent = '↺ Sync en cours…';
  showToast('Scraping en cours…');

  try {
    const res = await fetch('/api/scrape');
    const data = await res.json();

    if(data.success && data.sales){
      // Remove old auto-scraped sales, keep manual ones
      S.sales = S.sales.filter(s => !s.auto);
      // Add new scraped sales
      S.sales.push(...data.sales);
      S.lastSync = new Date().toLocaleString('fr-FR');
      save();
      renderAll();
      showToast(`✓ ${data.sales.length} ventes trouvées`);
      if(data.errors?.length) showToast(`⚠ ${data.errors.length} sites inaccessibles`, 'error', 4000);
    }
  } catch(e) {
    showToast('Erreur de connexion', 'error');
  }

  btn.disabled = false;
  btn.textContent = '↺ Sync maintenant';
}

function showToast(msg, type='', duration=2500){
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.className = 'toast' + (type ? ' '+type : '');
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), duration);
}

// ── Render ────────────────────────────────────────────────────────────────────
function renderDays(){
  const g=document.getElementById('days-grid');
  g.innerHTML='';
  for(let i=0;i<7;i++){
    const d=offset(i);
    const iso=d.toISOString().split('T')[0];
    const isToday=iso===today();
    const wd=d.toLocaleDateString('fr-FR',{weekday:'short'}).replace('.','').toUpperCase();
    let sales=S.sales.filter(s=>s.date===iso);
    if(S.filter==='push') sales=sales.filter(s=>s.push || getH(s.houseId)?.push);
    if(S.filter==='today'&&!isToday) sales=[];

    const col=document.createElement('div');
    col.className='day'+(isToday?' is-today':'');
    col.innerHTML=`
      <div class="day-head">
        <div class="day-weekday">${wd}</div>
        <div class="day-num">${d.getDate()}</div>
      </div>
      <div class="day-body">
        ${sales.map(s=>{
          const h=getH(s.houseId);
          const isPush = s.push || h?.push;
          return `<div class="event${isPush?' push':''}${s.auto?' auto':''}" onclick="go('${s.url}')">
            <div class="event-house">${isPush?'<span class="push-dot"></span>':''}${s.auto?'<span class="auto-dot"></span>':''}${h?h.name:'—'}</div>
            <div class="event-title">${s.title}</div>
          </div>`;
        }).join('')}
        <button class="add-btn" onclick="openSaleModal('${iso}')">+ ajouter manuellement</button>
      </div>`;
    g.appendChild(col);
  }
}

function renderHouses(){
  const list=document.getElementById('houses-list');
  const sel=document.getElementById('m-house');
  list.innerHTML=''; sel.innerHTML='';

  S.houses.forEach(h=>{
    const up=S.sales.filter(s=>s.houseId===h.id&&s.date>=today()).sort((a,b)=>a.date.localeCompare(b.date));
    const nxt=up[0];
    const days=nxt?Math.round((new Date(nxt.date+'T12:00:00')-new Date(today()+'T12:00:00'))/864e5):null;
    const dotCls=nxt?(days<=2?'soon':'active'):'';

    const row=document.createElement('div');
    row.className='house-row';
    row.onclick=e=>{if(!e.target.closest('.push-btn'))go(h.url);};
    row.innerHTML=`
      <div class="house-name-cell"><div class="dot ${dotCls}"></div><span class="h-name">${h.name}</span></div>
      <div class="h-url">${h.url.replace('https://','').replace('www.','').split('/')[0]}</div>
      <div class="h-next">${nxt?fmt(nxt.date):'<span class="none">—</span>'}</div>
      <button class="push-btn${h.push?' on':''}" onclick="togglePush(${h.id},event)">${h.push?'Push ✓':'Push'}</button>`;
    list.appendChild(row);

    const o=document.createElement('option');
    o.value=h.id; o.textContent=h.name;
    sel.appendChild(o);
  });
}

function renderStats(){
  const d7=Array.from({length:7},(_,i)=>offset(i).toISOString().split('T')[0]);
  document.getElementById('s-today').textContent=S.sales.filter(s=>s.date===today()).length;
  document.getElementById('s-week').textContent=S.sales.filter(s=>d7.includes(s.date)).length;
  document.getElementById('s-push').textContent=S.houses.filter(h=>h.push).length;
  document.getElementById('s-houses').textContent=S.houses.length;
}

function renderAll(){
  renderDays(); renderHouses(); renderStats();
  const syncInfo = S.lastSync ? `Dernière sync : ${S.lastSync}` : 'Jamais synchronisé — cliquez Sync';
  document.getElementById('last-update').textContent = syncInfo;
}

// ── Actions ───────────────────────────────────────────────────────────────────
function setFilter(f,btn){
  S.filter=f;
  document.querySelectorAll('.f-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  renderDays();
}

function togglePush(id,e){
  e.stopPropagation();
  const h=S.houses.find(x=>x.id===id);
  if(h) h.push=!h.push;
  save(); renderHouses(); renderStats();
}

function go(url){ if(url&&url!=='#') window.open(url,'_blank'); }
function open_(id){ document.getElementById(id).classList.add('open'); }
function close_(id){ document.getElementById(id).classList.remove('open'); }

function openSaleModal(date){
  document.getElementById('m-date').value=date||'';
  document.getElementById('m-title').value='';
  document.getElementById('m-url').value='';
  open_('sale-modal');
}

function openHouseModal(){
  document.getElementById('h-name').value='';
  document.getElementById('h-url').value='';
  open_('house-modal');
}

function saveSale(){
  const date=document.getElementById('m-date').value;
  if(!date) return;
  S.sales.push({id:Date.now(),houseId:parseInt(document.getElementById('m-house').value),date,title:document.getElementById('m-title').value||'Sale',url:document.getElementById('m-url').value||'#',push:false,auto:false});
  close_('sale-modal'); save(); renderAll();
  showToast('Vente ajoutée');
}

function saveHouse(){
  const name=document.getElementById('h-name').value.trim().toUpperCase();
  if(!name) return;
  S.houses.push({id:Date.now(),name,url:document.getElementById('h-url').value.trim()||'#',push:false});
  close_('house-modal'); save(); renderAll();
  showToast('Maison ajoutée');
}

document.querySelectorAll('.overlay').forEach(el=>{
  el.addEventListener('click',e=>{if(e.target===el) el.classList.remove('open');});
});

document.getElementById('full-date').textContent=new Date().toLocaleDateString('fr-FR',{weekday:'long',day:'numeric',month:'long',year:'numeric'});
load();
renderAll();
</script>
</body>
</html>
